<mat-toolbar color="primary">
  <div class="toolbar-controls">

      <div class="log">
        <button mat-button *ngIf="!(currentUser | async);else loginUser" (click)="onLoginClick()">Login</button>
      </div>
      <div >
        <button mat-button *ngIf="(currentUser | async); " [routerLink]="'home'">
          <img src="assets/Icons/Home.png" height="30" width="30"/>
        </button>

        <div class="dashboard-card">
          <mat-card >
            <mat-tree  [dataSource]="dataSource" [treeControl]="treeControl">
              <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
                <button mat-icon-button disabled></button>
                <div class="dashboards" >
                  {{node.name}}
                </div>
              </mat-tree-node>
              <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
                <button  mat-icon-button matTreeNodeToggle
                         [attr.aria-label]="'toggle ' + node.name">
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                  </mat-icon>
                </button>
                <div class="dashboard-head" >
                  {{node.name}}
                </div>
              </mat-tree-node>
            </mat-tree>
          </mat-card>
        </div>

        <a mat-button *ngIf="(currentUser | async); " [routerLink]="'dashboard'">Dashboards</a>
        <a mat-button *ngIf="(currentUser | async); " [routerLink]="'projects'">Projects</a>

        <a mat-stroked-button *ngIf="(currentUser | async); " (click)="createTicket()">Create issue</a>
        <a mat-stroked-button class="button-interval" *ngIf="(currentUser | async); " [routerLink]="'home'">Search</a>
      </div>

    <ng-template #loginUser>
      <button mat-stroked-button (click)="onLogoutClick()">Logout</button>
      <button class="username" color="red" mat-button [routerLink]="'profile'">
        {{userName | async}}
        <img src="assets/Icons/User.png" height="30" width="30" class="button-interval"/>
      </button>
    </ng-template>
  </div>


</mat-toolbar>
